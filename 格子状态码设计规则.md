
# 游戏格子状态码设计

每个格子拥有一个状态码列表，结构如下：

```
[ content, top, right, bottom, left, overlay ]
```

## 各字段说明

| 下标 | 字段 | 含义 |
| :-- | :-- | :-- |
| 0 | content | 内容类型：<br>0: 无<br>1: 道路<br>2: 房屋1<br>3: 房屋2<br>4: 房屋3<br>5: 重生门 |
| 1 | top | 上是否连接（1: 是，0: 否） |
| 2 | right | 右是否连接 |
| 3 | bottom | 下是否连接 |
| 4 | left | 左是否连接 |
| 5 | overlay | 叠加元素：<br>0: 无<br>1: 导航员（可扩展更多） |

## 不同内容类型的规则

### 道路 (content = 1)
- 可与任何方向的道路或建筑底部连接。
- 铺设时更新上下左右的连接状态。

### 房屋 (content = 2/3/4)
- **只能底部连接道路**，其他三个方向不能连接。
- 放置时，必须检查下方是否有道路。

### 重生门 (content = 5)
- **只能放置在道路上**。
- 必须位于道路的一端（只能连接一个方向的道路）。
- 放置时确认相邻方向，只有一个方向设置连接，其余方向为 0。

### 导航员 (overlay = 1)
- 可以作为叠加元素放置在道路上。
- 不影响道路的连接状态。

## 示例

```
[1, 1, 0, 1, 0, 0]
// 道路，与上、下相连，没有右左连接，无叠加物。

[2, 0, 0, 1, 0, 0]
// 房屋1，仅下方（底部）与道路连接。

[5, 0, 1, 0, 0, 0]
// 重生门，右边可连接。
```

## 未来扩展建议
- content 字段可继续扩展更多类型，例如：桥梁、公交站、工厂等。
- overlay 字段可支持多个叠加元素（将 overlay 扩展为位掩码或数组）。

---
